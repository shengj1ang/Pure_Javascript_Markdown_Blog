---
date: '2021-01-08T18:54:00.001+01:00'
description: ''
published: true
slug: 2021-01-v2ray
tags:
- http://schemas.google.com/blogger/2008/kind#post
- legacy-blogger
time_to_read: 5
title: "v2ray\u76F8\u5173\u8BB0\u5F55\U0001F4DD"
---

*This was originally posted on blogger [here](https://sheng-jiang.blogspot.com/2021/01/v2ray.html)*.

<div style="text-align: justify; text-indent: 28px;"><span face="微软雅黑" style="color: #555555;"><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh2OTs9oGlvSi4esBghsLA7ui9JGB0wkWTKrMk6zxoT8JkpvVNv4HFl9Q0HakXmacTZWh5QcEmq3w7a-FthTcVOar1jbCRpcc8SvdKY5v2vjAqXqkueSXU4f_1i8Fl6MY-_Dg9oAqKwYA7EYyB7YzyLb0MVVr60M5RMefFw4BUfMiqc6zUTckpvgKKM/s254/Screenshot%202022-03-23%20at%2011.15.57%20AM.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="230" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh2OTs9oGlvSi4esBghsLA7ui9JGB0wkWTKrMk6zxoT8JkpvVNv4HFl9Q0HakXmacTZWh5QcEmq3w7a-FthTcVOar1jbCRpcc8SvdKY5v2vjAqXqkueSXU4f_1i8Fl6MY-_Dg9oAqKwYA7EYyB7YzyLb0MVVr60M5RMefFw4BUfMiqc6zUTckpvgKKM/s1600/Screenshot%202022-03-23%20at%2011.15.57%20AM.png" width="254" /></a></div><br /><span style="background-color: white; font-size: 14px;"><br /></span></span></div><div style="text-align: justify; text-indent: 28px;"><span face="微软雅黑" style="color: #555555;"><span style="background-color: white; font-size: 14px;">-相关目录</span></span></div><div style="text-align: justify; text-indent: 28px;"><span face="微软雅黑" style="color: #555555;"><span style="background-color: white; font-size: 14px;">程序目录：</span></span><span style="font-size: 14px; text-align: left;"><span face="微软雅黑" style="color: #555555;">/usr/local/v2ray</span></span></div><div style="text-align: justify; text-indent: 28px;"><span style="font-size: 14px; text-align: left;"><span face="微软雅黑" style="color: #555555;">配置文件：</span></span><span style="font-size: 14px; text-align: left;"><span face="微软雅黑" style="color: #555555;">/etc/v2ray/config.json</span></span></div><div style="text-align: justify; text-indent: 28px;"><br /></div><div style="text-align: left;"><span face="微软雅黑" style="color: #555555;"><span style="background-color: white; font-size: 14px;">&nbsp; &nbsp; &nbsp; - 服务文件：</span></span><span style="font-size: 14px; text-align: left;"><span face="微软雅黑" style="color: #555555;">/usr/lib/systemd/system/</span></span><span style="font-size: 14px; text-align: left;"><span face="微软雅黑" style="color: #555555;">v2ray.service</span></span></div><div style="text-align: justify; text-indent: 28px;"><span face="微软雅黑" style="color: #555555;"><span style="background-color: white; font-size: 14px;"><br /></span></span></div><div style="text-align: justify; text-indent: 28px;"><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter bash"><tbody style="background: none; border-radius: 0px; border: 0px; float: none; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px; vertical-align: baseline; width: auto;"><tr style="background: none; border-radius: 0px; border: 0px; float: none; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px; vertical-align: baseline; width: auto;"><td class="gutter" style="background: none rgb(247, 247, 249); border-bottom-color: initial; border-left-color: initial; border-radius: 4px 0px 0px 4px; border-right-color: rgb(225, 225, 232); border-right-style: solid; border-top-color: initial; border-width: 0px 1px 0px 0px; color: #afafaf; float: none; line-height: 1.1em; margin: 0px; overflow: visible; padding: 9.5px 0px 9.5px 9.5px; vertical-align: baseline; width: auto;"><div class="line number1 index0 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">1</div><div class="line number2 index1 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">2</div><div class="line number3 index2 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">3</div><div class="line number4 index3 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">4</div><div class="line number5 index4 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">5</div><div class="line number6 index5 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">6</div><div class="line number7 index6 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">7</div><div class="line number8 index7 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">8</div><div class="line number9 index8 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">9</div><div class="line number10 index9 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">10</div><div class="line number11 index10 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">11</div><div class="line number12 index11 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">12</div><div class="line number13 index12 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">13</div><div class="line number14 index13 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">14</div><div class="line number15 index14 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">15</div><div class="line number16 index15 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">16</div></td><td class="code" style="background: none; border-radius: 0px; border: 0px; float: none; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px; vertical-align: baseline; width: 676.391px;"><div class="container" style="background: none; border-radius: 0px; border: 0px; float: none; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px; vertical-align: baseline; width: auto;"><div class="line number1 index0 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">[Unit]</code></div><div class="line number2 index1 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">Description=V2Ray&nbsp;Service</code></div><div class="line number3 index2 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">Documentation=https:</code><code class="bash plain">//www</code><code class="bash plain">.v2fly.org/</code></div><div class="line number4 index3 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">After=network.target&nbsp;nss-lookup.target</code></div><div class="line number5 index4 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;">&nbsp;</div><div class="line number6 index5 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">[Service]</code></div><div class="line number7 index6 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">User=nobody</code></div><div class="line number8 index7 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">CapabilityBoundingSet=CAP_NET_ADMIN&nbsp;CAP_NET_BIND_SERVICE</code></div><div class="line number9 index8 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">AmbientCapabilities=CAP_NET_ADMIN&nbsp;CAP_NET_BIND_SERVICE</code></div><div class="line number10 index9 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">NoNewPrivileges=</code><code class="bash functions">true</code></div><div class="line number11 index10 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">ExecStart=</code><code class="bash plain">/usr/local/v2ray/v2ray</code>&nbsp;<code class="bash plain">-config&nbsp;</code><code class="bash plain">/etc/v2ray/config</code><code class="bash plain">.json</code></div><div class="line number12 index11 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">Restart=on-failure</code></div><div class="line number13 index12 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">RestartPreventExitStatus=23</code></div><div class="line number14 index13 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;">&nbsp;</div><div class="line number15 index14 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">[Install]</code></div><div class="line number16 index15 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">WantedBy=multi-user.target</code></div><div><br /></div></div></td></tr></tbody></table></div><div style="text-align: justify; text-indent: 28px;"><span face="微软雅黑" style="color: #555555;"><span style="background-color: white; font-size: 14px;">-相关命令</span></span></div><div style="text-align: justify; text-indent: 28px;"><br class="Apple-interchange-newline" /><table border="0" cellpadding="0" cellspacing="0" class="syntaxhighlighter bash"><tbody style="background: none; border-radius: 0px; border: 0px; float: none; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px; vertical-align: baseline; width: auto;"><tr style="background: none; border-radius: 0px; border: 0px; float: none; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px; vertical-align: baseline; width: auto;"><td class="gutter" style="background: none rgb(247, 247, 249); border-bottom-color: initial; border-left-color: initial; border-radius: 4px 0px 0px 4px; border-right-color: rgb(225, 225, 232); border-right-style: solid; border-top-color: initial; border-width: 0px 1px 0px 0px; color: #afafaf; float: none; line-height: 1.1em; margin: 0px; overflow: visible; padding: 9.5px 0px 9.5px 9.5px; vertical-align: baseline; width: auto;"><div class="line number1 index0 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">1</div><div class="line number2 index1 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">2</div><div class="line number3 index2 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">3</div><div class="line number4 index3 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 0.5em 0px 1em; text-align: right; vertical-align: baseline; white-space: pre; width: auto;">4</div></td><td class="code" style="background: none; border-radius: 0px; border: 0px; float: none; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px; vertical-align: baseline; width: 684.188px;"><div class="container" style="background: none; border-radius: 0px; border: 0px; float: none; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px; vertical-align: baseline; width: auto;"><div class="line number1 index0 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash functions">cp</code>&nbsp;<code class="bash plain">v2ray.service&nbsp;</code><code class="bash plain">/usr/lib/systemd/system/</code></div><div class="line number2 index1 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">systemctl&nbsp;daemon-reload</code></div><div class="line number3 index2 alt2" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">systemctl&nbsp;</code><code class="bash functions">enable</code>&nbsp;<code class="bash plain">v2ray</code></div><div class="line number4 index3 alt1" style="background: none; border-radius: 0px; border: 0px; float: none; height: 14px; line-height: 1.1em; margin: 0px; overflow: visible; padding: 0px 1em; vertical-align: baseline; width: auto;"><code class="bash plain">systemctl&nbsp;start&nbsp;v2ray</code></div><div><code class="bash plain"><br /></code></div></div></td></tr></tbody></table></div><div style="text-align: justify; text-indent: 28px;"><span face="微软雅黑" style="color: #555555;"><span style="background-color: white; font-size: 14px;"><br /></span></span></div><div style="text-align: justify; text-indent: 28px;"><span face="微软雅黑" style="color: #555555;"><span style="background-color: white; font-size: 14px;"><br /></span></span></div><div style="text-align: justify; text-indent: 28px;"><span face="微软雅黑" style="color: #555555;"><span style="background-color: white; font-size: 14px;"><br /></span></span></div><div style="text-align: justify; text-indent: 28px;"><span face="微软雅黑" style="color: #555555;"><span style="background-color: white; font-size: 14px;"><br /></span></span></div><div style="text-align: justify; text-indent: 28px;"><span face="微软雅黑" style="color: #555555;"><span style="background-color: white; font-size: 14px;"><br /></span></span></div><div style="text-align: justify; text-indent: 28px;"></div><div style="text-align: justify; text-indent: 28px;"></div>