---
date: '2022-05-22T20:23:00.008+01:00'
description: ''
published: true
slug: 2022-05-access-request-details-when-using
tags:
- http://schemas.google.com/blogger/2008/kind#post
- legacy-blogger
time_to_read: 5
title: Access request details when using Cloudflare workers
---

*This was originally posted on blogger [here](https://sheng-jiang.blogspot.com/2022/05/access-request-details-when-using.html)*.

<p>Preface:<i> Cloudflare Worker</i> does not have the function of ip and visit logs. So add it manually with another PHP server.</p><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgzza3QGa_AAKDDkmDT6nb9t9Udbj3-RBBbuSFYvIWBbU1ja21JKKglASgIURaH2OG5yV1YmlNRvOcef50H_fdDOiwR2vqGuKr8rcuCYKRE9WPVmqWoWKhSa5KxCJ_lVnuzZloxBG3ebdqLUE7YHdqH0UH_a3CQpL0l1C10sCBzYnfZ513DSt6tDZYK/s1264/Screenshot%202022-05-23%20at%202.56.18%20PM.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="145" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgzza3QGa_AAKDDkmDT6nb9t9Udbj3-RBBbuSFYvIWBbU1ja21JKKglASgIURaH2OG5yV1YmlNRvOcef50H_fdDOiwR2vqGuKr8rcuCYKRE9WPVmqWoWKhSa5KxCJ_lVnuzZloxBG3ebdqLUE7YHdqH0UH_a3CQpL0l1C10sCBzYnfZ513DSt6tDZYK/w400-h145/Screenshot%202022-05-23%20at%202.56.18%20PM.png" width="400" /></a></div><br /><p></p><p>1. Using PHP to write logs</p><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiwXiXfro2Uggjv8mJM52bdfXHxy8InzZmr8HvFIMMh61hc3bqDeA8TBYE8N44ce0ld30gzqtnqgzT8Uv5C1rqUHksbMbXaDvlF7A5MHXvQOEih6G42Bz-hnUMqdJ4fExy0AqqG4vjC3blvP909_iGcE2oVltuB6NMlLpQeuLynNdFyzHUFTLdcsdtA/s1624/Screenshot%202022-05-23%20at%203.21.20%20AM.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="188" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiwXiXfro2Uggjv8mJM52bdfXHxy8InzZmr8HvFIMMh61hc3bqDeA8TBYE8N44ce0ld30gzqtnqgzT8Uv5C1rqUHksbMbXaDvlF7A5MHXvQOEih6G42Bz-hnUMqdJ4fExy0AqqG4vjC3blvP909_iGcE2oVltuB6NMlLpQeuLynNdFyzHUFTLdcsdtA/w400-h188/Screenshot%202022-05-23%20at%203.21.20%20AM.png" width="400" /></a></div><blockquote><pre style="background: rgb(255, 255, 255); font-family: Menlo, courier;"><br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>&lt;?php</span><br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>if</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: blue; font-weight: bold;">isset</span><span style="color: red;">(</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"ip"</span><span style="color: red;">]</span><span style="color: red;">)</span><span style="color: #804040;">&amp;&amp;</span><span style="color: blue; font-weight: bold;">isset</span><span style="color: red;">(</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"region"</span><span style="color: red;">]</span><span style="color: red;">)</span><span style="color: #804040;">&amp;&amp;</span><span style="color: blue; font-weight: bold;">isset</span><span style="color: red;">(</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"path"</span><span style="color: red;">]</span><span style="color: red;">)</span><span style="color: red;">)</span><span style="color: red;">{</span><br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$ip</span><span style="color: #804040;">=</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"ip"</span><span style="color: red;">]</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$region</span><span style="color: #804040;">=</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"region"</span><span style="color: red;">]</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$path</span><span style="color: #804040;">=</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"path"</span><span style="color: red;">]</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$time</span><span style="color: #804040;">=</span><span style="color: #ad8000;">date</span><span style="color: red;">(</span><span style="color: #dc009c;">'Y-m-d H:i:s'</span><span style="color: red;">)</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$filename</span><span style="color: #804040;">=</span><span style="color: #dc009c;">"log/"</span>.<span style="color: #ad8000;">date</span><span style="color: red;">(</span><span style="color: #dc009c;">'Ymd'</span><span style="color: red;">)</span>.<span style="color: #dc009c;">".txt"</span>;<br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>echo</span><span style="color: grey;"> </span><span style="color: #ff9900;">$time</span>.<span style="color: #dc009c;">" IP:"</span>.<span style="color: #ff9900;">$ip</span>.<span style="color: #dc009c;">" Region:"</span>.<span style="color: #ff9900;">$region</span>.<span style="color: #dc009c;">" Path:"</span>.<span style="color: #ff9900;">$path</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$fp</span><span style="color: #804040;">=</span><span style="color: #ad8000;">fopen</span><span style="color: red;">(</span><span style="color: #ff9900;">$filename</span>,<span style="color: #dc009c;">'a'</span><span style="color: red;">)</span>;<br /><span style="color: #ad8000;"><span>&nbsp;&nbsp; &nbsp;</span>fwrite</span><span style="color: red;">(</span><span style="color: #ff9900;">$fp</span>,<span style="color: #ff9900;">$time</span>.<span style="color: #dc009c;">" IP:"</span>.<span style="color: #ff9900;">$ip</span>.<span style="color: #dc009c;">" Region:"</span>.<span style="color: #ff9900;">$region</span>.<span style="color: #dc009c;">" Path:"</span>.<span style="color: #ff9900;">$path</span>.<span style="color: #dc009c;">"\r\n"</span><span style="color: red;">)</span>;<br /><span style="color: #ad8000;"><span>&nbsp;&nbsp; &nbsp;</span>fclose</span><span style="color: red;">(</span><span style="color: #ff9900;">$fp</span><span style="color: red;">)</span>;&nbsp;</pre></blockquote><blockquote><pre style="background: rgb(255, 255, 255); font-family: Menlo, courier;"><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>}</span><br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>else</span><span style="color: red;">{</span><br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>echo</span><span style="color: grey;"> </span><span style="color: #dc009c;">"Error"</span>;<br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>}</span><br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>?&gt;</span></pre></blockquote><p>2. Add To Workers Dash:&nbsp;</p><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhFOd74IW7QyiSb4ZBYVVqvA-CyvzaQcpzPM9XbswaS_YmQjc_siIkpKBol-cfZZJv86Ek67hSLhK1EwS4cfHb6I4tivSZRMhKr6DsXIP2GhiA6NTF2RutdAcwmla8Q76kQnyuXkwF7oqLa2lA51F5pzL0CBhocTMzN62r77WAZh6mRpMlMYnhewNMa/s1156/Screenshot%202022-05-23%20at%203.20.15%20AM.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="106" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhFOd74IW7QyiSb4ZBYVVqvA-CyvzaQcpzPM9XbswaS_YmQjc_siIkpKBol-cfZZJv86Ek67hSLhK1EwS4cfHb6I4tivSZRMhKr6DsXIP2GhiA6NTF2RutdAcwmla8Q76kQnyuXkwF7oqLa2lA51F5pzL0CBhocTMzN62r77WAZh6mRpMlMYnhewNMa/w400-h106/Screenshot%202022-05-23%20at%203.20.15%20AM.png" width="400" /></a></div><p><br /></p><div style="background-color: #fffffe; line-height: 18px;"><div><span style="color: blue;">  <span>&nbsp;&nbsp; &nbsp;</span>const</span> region = request.headers.<span style="color: blue;">get</span>(<span style="color: #a31515;">'cf-ipcountry'</span>).toUpperCase();</div><div>  <span>&nbsp;&nbsp; &nbsp;</span><span style="color: blue;">const</span> ip_address = request.headers.<span style="color: blue;">get</span>(<span style="color: #a31515;">'cf-connecting-ip'</span>);</div><div>  <span>&nbsp;&nbsp; &nbsp;</span><span style="color: blue;">let</span> { pathname } = <span style="color: blue;">new</span> <span style="color: teal;">URL</span>(request.url);</div><div>  <span>&nbsp;&nbsp; &nbsp;</span>fetch(<span style="color: #a31515;">"https://exmaple.com/examplelocation?ip="</span>+ip_address+<span style="color: #a31515;">"&amp;region="</span>+region+<span style="color: #a31515;">"&amp;path="</span>+pathname);</div><div> </div><div><br /></div><div>3. Additional: read.php</div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiXcfeHgijwtCX4_Bj-7NWOM6_0cDhLZQ_642oMzQnGSuxyw0Ts814xqdAKA1QB4njJfFtfuRU_umyv-XfkkxZut4JAflCzsvz3_DnDe7AsXbiTuQIso0t7F3oW7UAIasvsqfT4Pj40UzkYR1uJjcFmKDcGKrCPzNAgszFTHu5G_WDl8jObqEVJZiZp/s1012/Screenshot%202022-05-23%20at%205.58.21%20PM.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="180" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiXcfeHgijwtCX4_Bj-7NWOM6_0cDhLZQ_642oMzQnGSuxyw0Ts814xqdAKA1QB4njJfFtfuRU_umyv-XfkkxZut4JAflCzsvz3_DnDe7AsXbiTuQIso0t7F3oW7UAIasvsqfT4Pj40UzkYR1uJjcFmKDcGKrCPzNAgszFTHu5G_WDl8jObqEVJZiZp/w400-h180/Screenshot%202022-05-23%20at%205.58.21%20PM.png" width="400" /></a></div><br /><div><br /></div><div><pre style="background: rgb(255, 255, 255); font-family: Menlo, courier;"><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>&lt;?php</span><br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$filename</span><span style="color: #804040;">=</span><span style="color: #dc009c;">"log/"</span>.<span style="color: #ad8000;">date</span><span style="color: red;">(</span><span style="color: #dc009c;">'Ymd'</span><span style="color: red;">)</span>.<span style="color: #dc009c;">".txt"</span>;<br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>if</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: grey;"> </span><span style="color: #ad8000;">file_exists</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: grey;"> </span><span style="color: #ff9900;">$filename</span><span style="color: grey;"> </span><span style="color: red;">)</span><span style="color: red;">)</span><span style="color: red;">{</span><br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$fp</span><span style="color: #804040;">=</span><span style="color: #ad8000;">fopen</span><span style="color: red;">(</span><span style="color: #ff9900;">$filename</span>,<span style="color: #dc009c;">'r'</span><span style="color: red;">)</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$str</span><span style="color: grey;"> </span><span style="color: #804040;">=</span><span style="color: grey;"> </span><span style="color: #ad8000;">fread</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: grey;"> </span><span style="color: #ff9900;">$fp</span><span style="color: grey;"> </span>,<span style="color: grey;"> </span><span style="color: #ad8000;">filesize</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: grey;"> </span><span style="color: #ff9900;">$filename</span><span style="color: grey;"> </span><span style="color: red;">)</span><span style="color: red;">)</span>;<br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>echo</span><span style="color: grey;"> </span><span style="color: #ff9900;">$str</span><span style="color: grey;"> </span><span style="color: #804040;">=</span><span style="color: grey;"> </span><span style="color: #ad8000;">str_replace</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: grey;"> </span><span style="color: #dc009c;">"\r\n"</span><span style="color: grey;"> </span>,<span style="color: grey;"> </span><span style="color: #dc009c;">"&lt;br /&gt;"</span><span style="color: grey;"> </span>,<span style="color: grey;"> </span><span style="color: #ff9900;">$str</span><span style="color: grey;"> </span><span style="color: red;">)</span>;<br /><span style="color: #ad8000;"><span>&nbsp;&nbsp; &nbsp;</span>fclose</span><span style="color: red;">(</span><span style="color: #ff9900;">$fp</span><span style="color: red;">)</span>;<br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>}</span><br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>else</span><span style="color: red;">{</span><br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>echo</span><span style="color: grey;"> </span><span style="color: #dc009c;">"No Log Today."</span>;<span style="color: grey;">    </span><br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>}</span><br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>?&gt;</span></pre></div><div><span style="font-family: Menlo, Monaco, Courier New, monospace;"><span style="font-size: 12px; white-space: pre;"><br /></span></span></div><div><span style="font-family: Menlo, Monaco, Courier New, monospace;"><span style="font-size: 12px; white-space: pre;">4. <b>All function in one file</b></span></span></div><div><span style="font-family: Menlo, Monaco, Courier New, monospace;"><span style="font-size: 12px; white-space: pre;"><br /></span></span></div><div><span style="font-family: Menlo, Monaco, Courier New, monospace;"><span style="font-size: 12px; white-space: pre;"><pre style="background: rgb(255, 255, 255); font-family: Menlo, courier;"><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>&lt;?php</span><br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>if</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: blue; font-weight: bold;">isset</span><span style="color: red;">(</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"ip"</span><span style="color: red;">]</span><span style="color: red;">)</span><span style="color: #804040;">&amp;&amp;</span><span style="color: blue; font-weight: bold;">isset</span><span style="color: red;">(</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"region"</span><span style="color: red;">]</span><span style="color: red;">)</span><span style="color: #804040;">&amp;&amp;</span><span style="color: blue; font-weight: bold;">isset</span><span style="color: red;">(</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"path"</span><span style="color: red;">]</span><span style="color: red;">)</span><span style="color: red;">)</span><span style="color: red;">{</span><br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$ip</span><span style="color: #804040;">=</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"ip"</span><span style="color: red;">]</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$region</span><span style="color: #804040;">=</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"region"</span><span style="color: red;">]</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$path</span><span style="color: #804040;">=</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"path"</span><span style="color: red;">]</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$time</span><span style="color: #804040;">=</span><span style="color: #ad8000;">date</span><span style="color: red;">(</span><span style="color: #dc009c;">'Y-m-d H:i:s'</span><span style="color: red;">)</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$filename</span><span style="color: #804040;">=</span><span style="color: #dc009c;">"log/"</span>.<span style="color: #ad8000;">date</span><span style="color: red;">(</span><span style="color: #dc009c;">'Ymd'</span><span style="color: red;">)</span>.<span style="color: #dc009c;">".txt"</span>;<br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>echo</span><span style="color: grey;"> </span><span style="color: #ff9900;">$time</span>.<span style="color: #dc009c;">" IP:"</span>.<span style="color: #ff9900;">$ip</span>.<span style="color: #dc009c;">" Region:"</span>.<span style="color: #ff9900;">$region</span>.<span style="color: #dc009c;">" Path:"</span>.<span style="color: #ff9900;">$path</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$fp</span><span style="color: #804040;">=</span><span style="color: #ad8000;">fopen</span><span style="color: red;">(</span><span style="color: #ff9900;">$filename</span>,<span style="color: #dc009c;">'a'</span><span style="color: red;">)</span>;<br /><span style="color: #ad8000;"><span>&nbsp;&nbsp; &nbsp;</span>fwrite</span><span style="color: red;">(</span><span style="color: #ff9900;">$fp</span>,<span style="color: #ff9900;">$time</span>.<span style="color: #dc009c;">" IP:"</span>.<span style="color: #ff9900;">$ip</span>.<span style="color: #dc009c;">" Region:"</span>.<span style="color: #ff9900;">$region</span>.<span style="color: #dc009c;">" Path:"</span>.<span style="color: #ff9900;">$path</span>.<span style="color: #dc009c;">"\r\n"</span><span style="color: red;">)</span>;<br /><span style="color: #ad8000;"><span>&nbsp;&nbsp; &nbsp;</span>fclose</span><span style="color: red;">(</span><span style="color: #ff9900;">$fp</span><span style="color: red;">)</span>;<br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>}</span><br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>elseif</span><span style="color: red;">(</span><span style="color: blue; font-weight: bold;">isset</span><span style="color: red;">(</span><span style="color: #ff9900;">$_GET</span><span style="color: red;">[</span><span style="color: #dc009c;">"read"</span><span style="color: red;">]</span><span style="color: red;">)</span><span style="color: red;">)</span><br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>{</span><br /><span style="color: grey;">    </span><span style="color: #ff9900;">$filename</span><span style="color: #804040;">=</span><span style="color: #dc009c;">"log/"</span>.<span style="color: #ad8000;">date</span><span style="color: red;">(</span><span style="color: #dc009c;">'Ymd'</span><span style="color: red;">)</span>.<span style="color: #dc009c;">".txt"</span>;<br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>if</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: grey;"> </span><span style="color: #ad8000;">file_exists</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: grey;"> </span><span style="color: #ff9900;">$filename</span><span style="color: grey;"> </span><span style="color: red;">)</span><span style="color: red;">)</span><span style="color: red;">{</span><br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$fp</span><span style="color: #804040;">=</span><span style="color: #ad8000;">fopen</span><span style="color: red;">(</span><span style="color: #ff9900;">$filename</span>,<span style="color: #dc009c;">'r'</span><span style="color: red;">)</span>;<br /><span style="color: #ff9900;"><span>&nbsp;&nbsp; &nbsp;</span>$str</span><span style="color: grey;"> </span><span style="color: #804040;">=</span><span style="color: grey;"> </span><span style="color: #ad8000;">fread</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: grey;"> </span><span style="color: #ff9900;">$fp</span><span style="color: grey;"> </span>,<span style="color: grey;"> </span><span style="color: #ad8000;">filesize</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: grey;"> </span><span style="color: #ff9900;">$filename</span><span style="color: grey;"> </span><span style="color: red;">)</span><span style="color: red;">)</span>;<br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>echo</span><span style="color: grey;"> </span><span style="color: #ff9900;">$str</span><span style="color: grey;"> </span><span style="color: #804040;">=</span><span style="color: grey;"> </span><span style="color: #ad8000;">str_replace</span><span style="color: grey;"> </span><span style="color: red;">(</span><span style="color: grey;"> </span><span style="color: #dc009c;">"\r\n"</span><span style="color: grey;"> </span>,<span style="color: grey;"> </span><span style="color: #dc009c;">"&lt;br /&gt;"</span><span style="color: grey;"> </span>,<span style="color: grey;"> </span><span style="color: #ff9900;">$str</span><span style="color: grey;"> </span><span style="color: red;">)</span>;<br /><span style="color: #ad8000;"><span>&nbsp;&nbsp; &nbsp;</span>fclose</span><span style="color: red;">(</span><span style="color: #ff9900;">$fp</span><span style="color: red;">)</span>;<br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>}</span><br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>else</span><span style="color: red;">{</span><br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>echo</span><span style="color: grey;"> </span><span style="color: #dc009c;">"No Log Today."</span>;<span style="color: grey;">    </span><br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>}</span><br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>}</span><br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>else</span><span style="color: red;">{</span><br /><span style="color: blue; font-weight: bold;"><span>&nbsp;&nbsp; &nbsp;</span>echo</span><span style="color: grey;"> </span><span style="color: #dc009c;">"Error"</span>;<span style="color: grey;">    </span><br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>}</span><br /><span style="color: red;"><span>&nbsp;&nbsp; &nbsp;</span>?&gt;</span></pre><pre style="background: rgb(255, 255, 255); font-family: Menlo, courier; text-align: center;"><b><br /></b></pre><pre style="background: rgb(255, 255, 255); font-family: Menlo, courier; text-align: center;"><b>The End</b></pre></span></span></div></div>