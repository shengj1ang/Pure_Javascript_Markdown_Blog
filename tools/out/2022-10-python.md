---
date: '2022-10-28T23:16:00.009+01:00'
description: ''
published: true
slug: 2022-10-python
tags:
- http://schemas.google.com/blogger/2008/kind#post
- legacy-blogger
time_to_read: 5
title: "\u5173\u4E8Epython\u9879\u76EE\u7684\u865A\u62DF\u73AF\u5883"
---

*This was originally posted on blogger [here](https://sheng-jiang.blogspot.com/2022/10/python.html)*.

<p>&nbsp;虚拟环境真的非常好用。</p><p>1. 创建：python -m venv [虚拟环境的名字]</p><p>2. 激活：Unix: source [虚拟环境的名字]/bin/activate</p><p><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp; &nbsp; Win: call&nbsp;</span>[虚拟环境的名字]/scripts/activate.bat</p><p><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp; &nbsp; 或者./</span>scripts/activate.bat</p><p>3. 激活完成就可以在虚拟环境里运行pip和python等了，虚拟环境不会影响外界。</p><p>4. 去激活：deactivate</p><p><br /></p><p>5. 其它：</p><p>- 关于导出requirements.txt: pip freeze &gt; requirements</p><p>- 关于shell脚本进入虚拟环境+后台运行：</p><p>#!/bin/bash -x</p><p>PWD=`pwd`</p><p>echo $PWD</p><p>activate () {</p><p>&nbsp; &nbsp; . $PWD/venv/bin/activate</p><p>}</p><p>activate</p><p>cd production</p><p>nohup python3 main.py &gt; log.log 2&gt;&amp;1 &amp;</p><p>exit</p><p>-Windows上Bat或者Cmd的脚本：</p><p>@echo off</p><p>cmd /k "call venv/scripts/activate.bat &amp; cd production &amp; python main.py&nbsp; &amp; call ../venv/scripts/deactivate.bat &amp; pause &amp; exit"</p><p><br /></p><p>6. 国内配置pi源</p><p>(1)在我的电脑上的地址栏输入：%appdata% ，然后回车；</p><p>(2)在里面新建一个名为 pip 的文件夹；</p><p>(3)在 pip 文件夹里面新建 文件pip.ini ,内容如下:</p><p>[global]</p><p>timeout = 6000</p><p>index-url = https://pypi.tuna.tsinghua.edu.cn/simple</p><p>trusted-host = pypi.tuna.tsinghua.edu.cn</p><p><br /></p><p>7. 关于 error: Microsoft Visual C++ 14.0 or greater is required. 的问题。</p><p>Details:&nbsp;<a href="https://stackoverflow.com/questions/64261546/how-to-solve-error-microsoft-visual-c-14-0-or-greater-is-required-when-inst" target="_blank">stackoverflow</a></p><p>1. Go to this link and download Microsoft C++ Build Tools:&nbsp;<a href="https://visualstudio.microsoft.com/visual-cpp-build-tools/" target="_blank">https://visualstudio.microsoft.com/visual-cpp-build-tools/</a></p><p>2. vs_buildtools.exe --norestart --passive --downloadThenInstall --includeRecommended --add Microsoft.VisualStudio.Workload.NativeDesktop --add Microsoft.VisualStudio.Workload.VCTools --add Microsoft.VisualStudio.Workload.MSBuildTools</p><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhrwuvUP7M7V5m7f8xZBUK0hRDS1FcWJfbrni8BHBLM3mMqRHuX5KHRQpn0n9OjDSFgPhtILkuPggFSFzQMIBWFpvczlnSdfIq9ycEVlSWRYHBrvDiKsu_4vNznTTMNjotG3Nkaas2fsqyumwWMRR6vchyCBYwSudYTno5-3I_KikNNTtZMiCsQOuei/s1760/vs.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="272" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhrwuvUP7M7V5m7f8xZBUK0hRDS1FcWJfbrni8BHBLM3mMqRHuX5KHRQpn0n9OjDSFgPhtILkuPggFSFzQMIBWFpvczlnSdfIq9ycEVlSWRYHBrvDiKsu_4vNznTTMNjotG3Nkaas2fsqyumwWMRR6vchyCBYwSudYTno5-3I_KikNNTtZMiCsQOuei/w468-h272/vs.png" width="468" /></a></div><br /><div><br /></div>